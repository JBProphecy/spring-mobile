////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import { joinWithColon } from "@/src/v2/app/utils"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export const API_BASE_URL = "http://192.168.111.8:8080/api/v1" // that's my laptop

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export type ServerRequestUrl = `${typeof API_BASE_URL}/${string}`

export function buildServerRequestUrl<T extends `/${string}`>(path: T) {
  return `${API_BASE_URL}${path}` as const
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export const HOTBOX = "hotbox"
export const TYPES = "types"
export const ERROR = "error"
export const REQUEST = "request"
export const RESPONSE = "response"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export const ERROR_TYPE_BASE = joinWithColon(HOTBOX, TYPES, ERROR)
export const REQUEST_TYPE_BASE = joinWithColon(HOTBOX, TYPES, REQUEST)
export const RESPONSE_TYPE_BASE = joinWithColon(HOTBOX, TYPES, RESPONSE)

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export type ServerErrorType = `${typeof ERROR_TYPE_BASE}:${string}`

export function buildServerErrorType<T extends string>(slug: T) {
  return joinWithColon(HOTBOX, TYPES, ERROR, slug) satisfies ServerErrorType
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export type ServerRequestType = `${typeof REQUEST_TYPE_BASE}:${string}`

export function buildServerRequestType<T extends string>(slug: T) {
  return joinWithColon(HOTBOX, TYPES, REQUEST, slug) satisfies ServerRequestType
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export type ServerResponseType = `${typeof RESPONSE_TYPE_BASE}:${string}`

export function buildServerResponseType<T extends string>(slug: T) {
  return joinWithColon(HOTBOX, TYPES, RESPONSE, slug) satisfies ServerResponseType
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
